# 项目说明文档  Project Specification

## 一、项目内容与总体目标（Project Goal）

本项目为工业设计专业大学生的毕业设计。题目：结合健康监测与认知训练的老年陪伴机器人交互体验设计研究（牢记）最终需产出可交互的老年陪伴机器人原型。

主要工作任务及内容：
本课题围绕 **健康监测+认知训练的老年陪伴机器人** 开展交互体验设计研究。通过文献调研、用户访谈与需求分析，明确老年人在 **健康管理、情感陪伴及认知维持** 方面的核心需求。基于此，提出机器人 **健康监测、智能提醒、认知训练互动** 等功能框架，并构建用户旅程与交互流程。完成机器人外观造型、界面UI、情感化表达等设计方案，制作低/高保真原型并进行可用性测试，结合反馈进行优化，最终形成完整的交互体验设计成果。

具体目标：开发一个面向机构养老场景的多模态交互陪伴机器人系统原型，具备 “**投影式认知交互 + 非接触式健康监测 + 情感陪伴机制**” 的联动框架，产出 **基于老人状态感知的自适应交互系统**

机器人的身体上具备一个屏幕（使用安卓平板，该平板自带一个前置的摄像头）和一个投影仪以及和投影仪放在一起的一个外置摄像头。

系统在我的电脑上运行，是一个包含前后端的项目（C:\Users\purriste\Desktop\PYProject\rppg），后端用python（D:/anaconda/envs/rppg/python.exe，环境：rppg），前端用nuxt-vue。平板上安装了ip webcam，电脑和平板置于同一个网络下，平板将前置摄像头的视频传到电脑（例如http:192.168.137.97:8080），该视频用于状态的采集，①情绪状态 ②心率（rppg）hrv③环境数据（光强、是否有人、有多少人、人与摄像头距离、人脸识别等）④人的身体状态（坐立状态、活动量、身体动作、头部动作、动作频率（行为节奏）、眼部：眨眼频率、是否注视屏幕、注视时间、游离频率、交互频率、注意力/反应力），Python获取视频后会进行处理，获得这些数据。而电脑连接的外置摄像头，会拍摄投影到地面的UI，视频传到Python，用于检测人在地面UI上的行为和位置，从而形成交互（空间互动投影）（这部分的难度在于，如何正确的识别人的位置，并与UI上交互组件位置对应）。

本研究重点关注：是否能够通过多模态感知形成**状态判断**，是否能够基于状态动态调节**交互与训练**，是否能让老人**愿意参与并持续参与**，做到无感的状态监测，以及基于状态的**主动交互**。合理设计交互的触发时机、交互的内容、交互的方式与形式，不仅做到健康和认知层面的守护，也提供情感支持。

---

## 二、核心项目要求（Project Requirements）

### 1. 三个能力必须联动，而非独立存在

本项目中的三项能力需构成闭环：

- **健康监测**：提供生理与行为状态线索
- **情感陪伴**：提供长期互动与情绪反馈机制
- **认知训练**：作为主要交互任务，并根据状态动态调整

### 2. 投影交互是主要交互方式

系统的核心交互形式为：

- 使用投影仪将认知训练界面投影到地面
- 老人通过 **脚步 / 站位 / 停留** 与投影界面交互
- 投影界面本身即为可交互空间，而非普通显示屏

### 3.视频识别与显示，必须高效、流畅、准确

视频流必须极度流畅（不能有明显延迟），且状态识别准确度要高，特别要解决侧脸、低头等非正脸/低光照、多人等复杂环境变化场景下的识别失败问题。

【可参考解决方法】：以情绪识别为例

技术路径：OpenCV (捕获) + Mediapipe (对齐) + DeepFace (分析) + Socket.IO (传输)。

帧同步与零缓存策略：设置 CAP_PROP_BUFFERSIZE = 1，通过独立线程“疯狂拉流”并强制覆盖旧帧。这意味着平板端看到的每一帧都是最新的，彻底解决了局域网视频堆积导致的卡顿感。

非正脸识别攻坚：

引入了 MediaPipe 面部网格检测器 作为后端。相比传统的 Haar 特征，它对人脸 468 个特征点的感知更强。

启用了 Align (对齐) 逻辑。即使老人侧脸或低头，算法也会先在空间上将面部“扶正”后再进行识别，极大提升了侧脸笑、侧脸哭的触发灵敏度

---

## 三、系统整体结构（System Architecture）

### 1. 感知层（Sensing Layer）

- RGB 摄像头
  - **平板端摄像头**
    - rPPG 心率估计
    - 情绪 / 面部状态趋势
    - 上半身姿态与参与度
  - **地面交互摄像头（外接摄像头）**
    - 识别人与投影界面的交互
    - 判断脚步位置、停留、遮挡行为

### 2. 状态理解层（State Interpretation）

- 生理状态趋势判断（非医疗诊断）
- 情绪与参与度变化趋势
- 异常或疲劳行为信号

输出为状态参考信号，而非确定性结论。

### 3. 交互与决策层（Interaction & Control）

- 调节认知训练参数
  - 难度
  - 节奏
  - 持续时间
- 调节情感反馈方式
  - 语音语气
  - 鼓励 / 放缓 / 休息提示
- 向护理人员提供状态参考信息

---

## 四、UI 与交互界面结构（UI Structure）

### 1. 平板端 UI（机器人系统界面）

色彩规范：旨在营造 “灵动、简洁、活力、温暖、适老化” 的氛围

核心主题色 (60%)：#FF7222 (活力橙) —— 用于 Logo、主按钮及核心品牌元素，赋予产品温暖感。

功能提示色 (15%)：

#33B555 (安全绿) —— 用于表现“情绪正向、挑战适中”等。

#FB4422 (警戒红) —— 用于表现“情绪负面、压力过载”等。

辅助色 (20%)： #FFD111 (温暖黄) & #2AAADD (清爽蓝)

点缀色 (5%)： #1DD1BB (薄荷绿) & #7555FF (极光紫)

#### UI 设计与适配方案：16:10 比例与跨平台兼容

机器人身体上的屏幕是安卓平板（2560*1600），必须严格遵循 16:10 的显示比例。同时，系统又是在电脑上开发的，必须解决在不同缩放比例（如电脑 Edge 浏览器 100% 缩放）下，UI 不会因为高度不足而导致底部信息丢失（溢出）的问题，确保排版灵动且温暖。

【可参考的解决方法】：
容器级比例锚定：在 app.vue 根组件中，我构建了一个名为 .tablet 的核心容器，利用 CSS 的 aspect-ratio: 16 / 10; 属性强制锁定比例。
视口单位（vh/vw）与 Flex 自适应布局：
解决溢出：放弃了写死像素（px）高度，转而使用 flex: 1 配合 min-height: 0。这确保了视频区域能够根据剩余空间动态收缩。
视口锁定：将整个容器高度定为 100vh，即使电脑端缩放比例改变，UI 也会在保持 16:10 的前提下自动等比例缩放，并居中显示，永远不会出现“底部字看不见”或“需要滚动条”的情况。
视频无缝填充：针对“视频窄、有黑边”的问题，使用了 object-fit: cover;。这确保了无论摄像头采集的原始比例如何，画面都会充满 16:10 的容器，提供沉浸式的视觉体验。

- 通过局域网访问
- 作为机器人的控制与反馈界面
- 功能包括：
  - 启动 / 停止认知训练
  - 人脸识别，登录不同账户
  - 语音助手，一声“阿康阿康”即可唤醒
  - 分为五大板块：主页、健康、娱乐、认知、个人账户与设置，采用侧边栏形式，

#### Ⅰ 主页

1. 日期天气显示
2. 语音通话
3. 一键呼叫
4. 健康、娱乐、认知 三大入口
5. 智能服务助手（阿康（Akon）动态形象）语音唤醒，智能响应。

#### Ⅱ 健康板块

1.健康看板，可视化查看自己的健康状态（例如：情绪健康、睡眠健康、清醒次数、起夜、睡眠时长、睡眠分析建议、活动量、活动小时数、锻炼时长、心率、hrv、静息心率等等）

2.运动课程（八段锦、太极、羽毛球、慢跑（跑前热身、科学慢跑、跑后拉伸放松）等等）

3.生活建议（饮食建议等）

#### Ⅲ 娱乐板块（将老人平时看过/听过的内容融入认知训练）

1.影视功能（电视剧电影播放）

2.音乐功能（民歌、戏曲、收音机、相声、听书等）

3.舞蹈功能（广场舞、交际舞）

4.报纸杂志资讯（时政、历史、军事、小说、健康）

5.回忆相册（可能会偏重这个，与认知训练进行联动）

#### Ⅲ 认知与学习板块

1.认知训练/游戏（听音猜歌名、色词测试、打地鼠等）

2.认知看板（训练时长、训练效果、趋势等等）

3.学习（园艺种植、烹饪烘焙、琴棋书画、手工（织毛衣、刺绣、剪纸、折纸、串珠））

---

### 2. 投影端 UI（认知训练界面）

- 通过投影仪投射到地面
- 展示内容：
  - 认知训练游戏
  - 大尺寸、低精度操作区域
- 不承载复杂信息，仅用于交互任务本身

---

## 五、认知训练形式 示例：色词测试（Stroop Test）

- 投影界面显示：
  - 一个带颜色的文字（如红色的“黄”）
  - 多个大尺寸选项区域
- 用户任务：
  - 选择文字的**颜色**而非文字含义
- 交互方式：
  - 通过脚踩或停留在对应投影区域完成选择

## 七、最终预期产出

### 1. 调研报告（背书）

1.文献调研
2.用户调研与访谈（用户画像 + 问题地图）
3.竞品调研
4.技术调研

### 2. 设计报告

1.用户旅程图（养老机构老年人的一天，真实的需求与痛点，触点）
2.利益相关者地图
3.系统架构图（触点、前台、前端、后端）
4.技术路径图
5.交互流程图（交互泳道图）
6.UI kit（设计规范）与UI展示
7.服务蓝图
8.使用场景图
9.产品大图展示
10.结构示意图、尺寸、三视图
11.可能有：数据流与隐私边界、
顺序不一定是这样，会更有逻辑

### 3. UI设计

1.风格、氛围、配色与字体
2.系统架构（UI系统）

### 4. 交互原型

### 5. 建模渲染

### 6. 原型搭建与可用性测试

1.是否满足老年人需求
2.可用、易用、愿意用
3.真的有用，验证对认知的积极作用

### 7. 原型优化

### 8. 展览物料

---

## 代码部分

"C:\Users\purriste\Desktop\PYProject\rppg"文件夹

├── backend（系统后端）
│   ├── app.py
│   ├── screen_processor.py
│   ├── games.py
│   ├── tablet_processor.py
│   └── training_history.json
├── frontend（系统前端）
│   ├── pages
│   │   ├── index.vue（首页）
│   │   ├── health.vue（健康页）
│   │   ├── entertainment.vue（娱乐页）
│   │   ├── learning.vue（益智页）
│   │   ├── developer.vue（全屏16：9的电脑后台）
│   │   ├── projection.vue（全屏16：9的电脑投影页面）
│   │   └── training.vue（点认知游戏后平板上显示的信息）
│   └──  app.vue（整体布局，侧边栏，）
├── README.md（本系统实现规划与当前进度）
└── instruction.md（本说明文档所在地，不可更改此文档）

开题报告需要具备：
一、本课题研究（设计）的目的：
二、研究（设计）现状和发展趋势：
三、研究（设计）的重点与难点，拟采用的途径（研究手段）：
四、研究（设计）进度计划：
五、参考文献：
